<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write from multiple sources to a database table — write_table • writer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write from multiple sources to a database table — write_table"><meta name="description" content="Provides unified syntax to write data from dplyr::tbl() (lazy
dplyr query via a DBI connection) or a dplyr::sql() or a data.frame to
a database table with modes such as: create, append, insert,
update, upsert, patch, delete, overwrite, overwrite_schema."><meta property="og:description" content="Provides unified syntax to write data from dplyr::tbl() (lazy
dplyr query via a DBI connection) or a dplyr::sql() or a data.frame to
a database table with modes such as: create, append, insert,
update, upsert, patch, delete, overwrite, overwrite_schema."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">writer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/talegari/writer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write from multiple sources to a database table</h1>
      <small class="dont-index">Source: <a href="https://github.com/talegari/writer/blob/HEAD/R/write_table.R" class="external-link"><code>R/write_table.R</code></a></small>
      <div class="d-none name"><code>write_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides unified syntax to write data from <code><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">dplyr::tbl()</a></code> (lazy
dplyr query via a DBI connection) or a <code><a href="https://dplyr.tidyverse.org/reference/sql.html" class="external-link">dplyr::sql()</a></code> or a <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> to
a database table with modes such as: <code>create</code>, <code>append</code>, <code>insert</code>,
<code>update</code>, <code>upsert</code>, <code>patch</code>, <code>delete</code>, <code>overwrite</code>, <code>overwrite_schema</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_table</span><span class="op">(</span><span class="va">x</span>, <span class="va">table_name</span>, <span class="va">mode</span>, con <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'tbl_lazy'</span></span>
<span><span class="fu">write_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">table_name</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"create"</span>, <span class="st">"append"</span>, <span class="st">"insert"</span>, <span class="st">"update"</span>, <span class="st">"upsert"</span>, <span class="st">"patch"</span>, <span class="st">"delete"</span>,</span>
<span>    <span class="st">"overwrite"</span>, <span class="st">"overwrite_schema"</span><span class="op">)</span>,</span>
<span>  con <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'sql'</span></span>
<span><span class="fu">write_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">table_name</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"create"</span>, <span class="st">"append"</span>, <span class="st">"insert"</span>, <span class="st">"update"</span>, <span class="st">"upsert"</span>, <span class="st">"patch"</span>, <span class="st">"delete"</span>,</span>
<span>    <span class="st">"overwrite"</span>, <span class="st">"overwrite_schema"</span><span class="op">)</span>,</span>
<span>  con <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">write_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">table_name</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"create"</span>, <span class="st">"append"</span>, <span class="st">"insert"</span>, <span class="st">"update"</span>, <span class="st">"upsert"</span>, <span class="st">"patch"</span>, <span class="st">"delete"</span>,</span>
<span>    <span class="st">"overwrite"</span>, <span class="st">"overwrite_schema"</span><span class="op">)</span>,</span>
<span>  con <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>( <code><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">dplyr::tbl()</a></code> or <code><a href="https://dplyr.tidyverse.org/reference/sql.html" class="external-link">dplyr::sql()</a></code> or <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a> ) The data to
write to the database. Input need not have any rows.</p></dd>


<dt id="arg-table-name">table_name<a class="anchor" aria-label="anchor" href="#arg-table-name"></a></dt>
<dd><p>( <code>string</code> or <code>AsIs</code> or <code>Id</code> ) The name of the table to
write to. This has to be one among: string (typically
<code>"catalog.schema.table"</code>), Object of class "AsIs" generated by wrapping
<code><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I()</a></code> (typically, <code>I("catalog.schema.table")</code>) or Object of class <code>Id</code>
generated by <code><a href="https://dbi.r-dbi.org/reference/Id.html" class="external-link">DBI::Id</a></code> (typically, <code>DBI::Id("catalog", "schema", "table")</code>).</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>( <code>string</code> ) Writing mode. Possible values are one among:
<code>create</code>, <code>append</code>, <code>insert</code>, <code>update</code>, <code>upsert</code>, <code>patch</code>, <code>delete</code>,
<code>overwrite</code>, <code>overwrite_schema</code>.</p></dd>


<dt id="arg-con">con<a class="anchor" aria-label="anchor" href="#arg-con"></a></dt>
<dd><p>( default: NULL ) DBI-connection object to use to write operation.
When con is <code>NULL</code> and source is a <code>tbl_lazy</code>, then DBI connection object
from the source tbl is used. When source is a <code>data.frame</code>, then <code>con</code>
should be provided.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to specific function based on <code>mode</code>. See
details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>When successful, returns the output table name as a string. Else,
throws an error with informative messages.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>DBI-dplyr-dbplyr</code> combination provides a great workflow to
handle database operations from R. When saving the output from analysis
notebooks or scripts, different functions need to be called based on the
type of the object we intend to write. <code>writer</code> package solves the problem
by exporting one generic <code>write_table</code> to handle multiple input types and
multiple modes. Further, <code>overwrite</code> and <code>overwrite_schema</code> refine the idea
of table overwrite so that schema of the table is not changed
inadvertently.</p><div class="section">
<h3 id="modes">Modes<a class="anchor" aria-label="anchor" href="#modes"></a></h3>

<ul><li><p><code>create</code>: Creates a new table only if table with same name does not exist and writes data.</p></li>
<li><p><code>append</code>: Appends data only if table exists and schema matches. See <code><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">dplyr::rows_append()</a></code>.</p></li>
<li><p><code>insert</code>: Inserts data only if table exists and key values do not exist. See <code><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">dplyr::rows_insert()</a></code>.</p></li>
<li><p><code>update</code>: Updates data only if table exists and key values match. See <code><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">dplyr::rows_update()</a></code> .</p></li>
<li><p><code>upsert</code>: Inserts or Updates only if table exists and depending on whether or not the key value already exists. See <code><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">dplyr::rows_upsert()</a></code>.</p></li>
<li><p><code>patch</code>: Updates only missing values if table exists and key values match. See <code><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">dplyr::rows_patch()</a></code>.</p></li>
<li><p><code>delete</code>: Deletes rows for matching key values if table exists. See <code><a href="https://dplyr.tidyverse.org/reference/rows.html" class="external-link">dplyr::rows_delete()</a></code></p></li>
<li><p><code>overwrite</code>: Overwrites data only if table exists and schema matches.</p></li>
<li><p><code>overwrite_schema</code>: Creates a new table with data irrespective of whether table exists or not.</p></li>
</ul></div>

<div class="section">
<h3 id="failures">Failures<a class="anchor" aria-label="anchor" href="#failures"></a></h3>


<p>The failures are mostly due to unavailable or wrong sql translation to the
specific backend. Please raise issues in
<a href="https://github.com/tidyverse/dbplyr/issues" class="external-link">dbplyr</a> repo.</p>
<p>Errors are raised with a
<a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">class</a> (using
<code><a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">rlang::abort()</a></code>). These are the error classes:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">error_input</span><span class="st">`</span><span class="sc">:</span> Related to wrong or unexpected input.</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">error_connection</span><span class="st">`</span><span class="sc">:</span> Raised when connection is inactive.</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">error_table</span><span class="st">`</span><span class="sc">:</span> Related to table existence or non<span class="sc">-</span>existence.</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">error_operation</span><span class="st">`</span><span class="sc">:</span> Related to core write operation.</span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="permissions">Permissions<a class="anchor" aria-label="anchor" href="#permissions"></a></h3>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">create</span><span class="st">`</span><span class="sc">:</span> create new table</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">append</span><span class="st">`</span>, <span class="st">`</span><span class="at">insert</span><span class="st">`</span>, <span class="st">`</span><span class="at">update</span><span class="st">`</span>, <span class="st">`</span><span class="at">upsert</span><span class="st">`</span>, <span class="st">`</span><span class="at">patch</span><span class="st">`</span>, <span class="st">`</span><span class="at">delete</span><span class="st">`</span><span class="sc">:</span> modify existing table</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">overwrite</span><span class="st">`</span><span class="sc">:</span> modify existing table</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a> <span class="sc">*</span> <span class="st">`</span><span class="at">overwrite_schema</span><span class="st">`</span><span class="sc">:</span> delete, create and rename table</span></code></pre><p></p></div>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">#' Create an in-memory SQLite database connection</span></span></span>
<span class="r-in"><span><span class="va">con</span> <span class="op">=</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">remove_new_table</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbRemoveTable.html" class="external-link">dbRemoveTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span>, fail_if_missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">create_new_table</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html" class="external-link">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span>, <span class="va">df</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Create a sample data.frame</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Create a new table</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">df</span>, <span class="st">"new_table"</span>, mode <span class="op">=</span> <span class="st">"create"</span>, con <span class="op">=</span> <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">intermediate</span> <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">id</span> <span class="op">&gt;=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">intermediate</span>, <span class="st">"new_filtered_table"</span>, mode <span class="op">=</span> <span class="st">"create"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_filtered_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Append data to an existing table</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">append_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">5</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Dave"</span>, <span class="st">"Eve"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">append_df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">write_table</span><span class="op">(</span><span class="st">"new_table"</span>, mode <span class="op">=</span> <span class="st">"append"</span>, con <span class="op">=</span> <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">append_df</span>, <span class="st">"append_table"</span>, mode <span class="op">=</span> <span class="st">"create"</span>, <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"append_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"append_table"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">write_table</span><span class="op">(</span><span class="st">"new_table"</span>, mode <span class="op">=</span> <span class="st">"append"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Insert data into an existing table, only if key values do not exist</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">insert_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">4</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Dave"</span>, <span class="st">"Eve"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">insert_df</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">insert_df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">write_table</span><span class="op">(</span><span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>              mode <span class="op">=</span> <span class="st">"insert"</span>,</span></span>
<span class="r-in"><span>              con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>              by <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>              conflict <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>              <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">insert_df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">write_table</span><span class="op">(</span><span class="st">"insert_table"</span>, mode <span class="op">=</span> <span class="st">"create"</span>, con <span class="op">=</span> <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"insert_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"insert_table"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">write_table</span><span class="op">(</span><span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>              mode <span class="op">=</span> <span class="st">"insert"</span>,</span></span>
<span class="r-in"><span>              by <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>              conflict <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>              <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Update data in an existing table, only if key values match</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">update_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alicia"</span>, <span class="st">"Charles"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">update_df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">update_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"update"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>            unmatched <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">update_df</span>, <span class="st">"update_table"</span>, mode <span class="op">=</span> <span class="st">"create"</span>, con <span class="op">=</span> <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"update_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"update_table"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"update"</span>,</span></span>
<span class="r-in"><span>            unmatched <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' upsert</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">upsert_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bobby"</span>, <span class="st">"Frank"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">upsert_df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">upsert_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"upsert"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>            by <span class="op">=</span> <span class="st">"id"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">upsert_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"upsert_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"create"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"upsert_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"upsert_table"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"upsert"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Patch data, updating only missing values</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">patch_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alice"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">patch_df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">df_patch</span>, <span class="st">"table_with_na"</span>, mode <span class="op">=</span> <span class="st">"create"</span>, <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"table_with_na"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"table_with_na"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"patch"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>            unmatched <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"table_with_na"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbRemoveTable.html" class="external-link">dbRemoveTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"table_with_na"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">df_patch</span>, <span class="st">"table_with_na"</span>, mode <span class="op">=</span> <span class="st">"create"</span>, <span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="st">"table_with_na"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"patch"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>            unmatched <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"table_with_na"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Delete rows for matching key values</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">delete_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">delete_df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">df_delete</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"delete"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>            unmatched <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">delete_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"delete_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"create"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"delete_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">df_delete</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"delete"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span>,</span></span>
<span class="r-in"><span>            unmatched <span class="op">=</span> <span class="st">"ignore"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Overwrite data in an existing table, schema must match</span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">overwrite_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bobby"</span>, <span class="st">"Frank"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">overwrite_df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">overwrite_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"overwrite"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">overwrite_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bobby"</span>, <span class="st">"Frank"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">overwrite_df</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">overwrite_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"overwrite"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Overwrite schema</span></span></span>
<span class="r-in"><span><span class="va">overwrite_schema_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bobby"</span>, <span class="st">"Frank"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">40</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                 <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">overwrite_schema_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"overwrite_schema"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">create_new_table</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="va">overwrite_schema_df</span>,</span></span>
<span class="r-in"><span>            <span class="st">"overwrite_schema_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"overwrite_schema"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_table</span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"overwrite_schema_table"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            <span class="st">"new_table"</span>,</span></span>
<span class="r-in"><span>            mode <span class="op">=</span> <span class="st">"overwrite_schema"</span>,</span></span>
<span class="r-in"><span>            con <span class="op">=</span> <span class="va">con</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"new_table"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' Disconnect from the database</span></span></span>
<span class="r-in"><span><span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html" class="external-link">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Komala Sheshachala Srikanth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

